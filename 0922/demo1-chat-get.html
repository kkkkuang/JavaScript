<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
<script type="text/javascript" src="js/ajax.js" ></script>		
<script>

// 获取聊天室中的最新数据

// 服务器部门给你一个文档：
//  获取数据：
//        方式： GET
//        地址： http://10.2.159.18:8080/ajax/chat
//        参数： type=query


setInterval(function(){
	ajax({
		method: "GET",
		url: "http://10.2.159.18:8080/ajax/chat",
		data: {type: "query"},
		success: function(str) {
	//		alert(str);
			document.write(str);
		}
	});
	
}, 1000);

// 【注意】 地址只能写自己服务器的

// 同源策略(安全)，规定必须是同源的页面才可以通过 ajax 获取数据
// 同源： 如果 域名、协议、端口 一致就是同源
//    百度服务器 --> Google 服务器            不可以！
//  http://www.baidu.com/news.html  --> http://www.baidu.com/ditu.html   可以！
//             (没写端口，默认就是80端口)
//  http://127.0.0.1/1.html    ---> http://127.0.0.1/a/b/c/d.html     可以！
//  http://127.0.0.1:8080/1.html  ---> http://localhost:8080/2.html    不可以！(因为域名不一样)     

</script>		
		
	</head>
	<body>
	</body>
</html>
